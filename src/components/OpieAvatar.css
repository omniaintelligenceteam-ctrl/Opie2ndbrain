/* === MINIMAL PREMIUM AURORA AVATAR === */

.opie-avatar {
  position: relative;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* === Aurora Gradient Ring === */
.opie-avatar__aurora {
  position: absolute;
  inset: 0;
  border-radius: 50%;
  padding: 3px;

  /* Aurora gradient - the magic */
  background: conic-gradient(
    from 0deg,
    #06b6d4,  /* cyan */
    #8b5cf6,  /* purple */
    #ec4899,  /* pink */
    #10b981,  /* emerald */
    #3b82f6,  /* blue */
    #06b6d4   /* back to cyan */
  );

  /* Slow rotation for idle */
  animation: aurora-rotate 20s linear infinite;

  /* Soft glow */
  filter: blur(0.5px);
  box-shadow:
    0 0 20px rgba(139, 92, 246, 0.3),
    0 0 40px rgba(6, 182, 212, 0.2);
}

/* Mask to create ring effect */
.opie-avatar__aurora::after {
  content: '';
  position: absolute;
  inset: 3px;
  border-radius: 50%;
  background: #0a0a0f;
}

/* === Center Circle === */
.opie-avatar__center {
  position: absolute;
  inset: 15%;
  border-radius: 50%;
  background: #0a0a0f;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1;
}

/* === Core Dot (the "eye") === */
.opie-avatar__core {
  width: 20%;
  height: 20%;
  border-radius: 50%;
  background: white;
  animation: core-breathe 3s ease-in-out infinite;
  box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
}

/* === Speaking Ripples === */
.opie-avatar__ripple {
  position: absolute;
  inset: 10%;
  border-radius: 50%;
  border: 1px solid rgba(255, 255, 255, 0.3);
  opacity: 0;
  pointer-events: none;
}

/* === ANIMATIONS === */

@keyframes aurora-rotate {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

@keyframes core-breathe {
  0%, 100% { transform: scale(1); opacity: 0.9; }
  50% { transform: scale(1.15); opacity: 1; }
}

@keyframes ripple-expand {
  0% { transform: scale(0.8); opacity: 0.6; }
  100% { transform: scale(1.3); opacity: 0; }
}

@keyframes aurora-fast {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

@keyframes core-pulse {
  0%, 100% { transform: scale(1); box-shadow: 0 0 10px rgba(255, 255, 255, 0.5); }
  50% { transform: scale(1.3); box-shadow: 0 0 20px rgba(255, 255, 255, 0.8); }
}

@keyframes shake {
  0%, 100% { transform: translateX(0) rotate(0deg); }
  20%, 60% { transform: translateX(-2px) rotate(-2deg); }
  40%, 80% { transform: translateX(2px) rotate(2deg); }
}

/* === STATE: THINKING === */
.opie-avatar--thinking .opie-avatar__aurora {
  animation: aurora-fast 3s linear infinite;
  box-shadow:
    0 0 30px rgba(139, 92, 246, 0.5),
    0 0 60px rgba(6, 182, 212, 0.3);
}

.opie-avatar--thinking .opie-avatar__core {
  animation: core-pulse 1s ease-in-out infinite;
}

/* === STATE: SPEAKING === */
.opie-avatar--speaking .opie-avatar__ripple {
  animation: ripple-expand 1.5s ease-out infinite;
}

.opie-avatar--speaking .opie-avatar__ripple--2 {
  animation-delay: 0.3s;
}

.opie-avatar--speaking .opie-avatar__ripple--3 {
  animation-delay: 0.6s;
}

/* === STATE: LISTENING === */
.opie-avatar--listening .opie-avatar__aurora {
  animation-play-state: paused;
}

.opie-avatar--listening .opie-avatar__core {
  transform: scale(1.2);
  box-shadow: 0 0 15px rgba(255, 255, 255, 0.8);
}

/* === STATE: ERROR === */
.opie-avatar--error .opie-avatar__aurora {
  background: conic-gradient(from 0deg, #ef4444, #dc2626, #ef4444);
  animation: shake 0.5s ease-in-out;
}

/* === INTERACTIVE (hover) === */
.opie-avatar--interactive {
  cursor: pointer;
  transition: transform 0.2s ease, filter 0.2s ease;
}

.opie-avatar--interactive:hover {
  transform: scale(1.1);
  filter: brightness(1.1);
}

.opie-avatar--interactive:hover .opie-avatar__aurora {
  box-shadow:
    0 0 30px rgba(139, 92, 246, 0.5),
    0 0 60px rgba(6, 182, 212, 0.4);
}
